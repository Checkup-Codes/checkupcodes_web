import{z as B,N as w,u as C,l as f,o as e,c as i,e as p,f as a,i as F,d as b,F as d,a as t,b as l,r as h,t as I,g as L,L as S,h as c}from"./app.039d49ba.js";import{B as _}from"./Box.001ad75b.js";/* empty css            */const V=c("Upload New Images"),j=["onSubmit"],U={class:"flex items-center gap-2 my-4"},D=["disabled"],E={key:0,class:"input-error"},O=c("Current Listing Images"),z={class:"mt-4 grid grid-cols-3 gap-4"},M=["src"],P=c(" Delete "),A={__name:"Create",props:{listing:Object},setup(n){const g=n;B.Inertia.on("progress",r=>{r.detail.progress.percentage&&w.set(r.detail.progress.percentage/100*.9)});const s=C({images:[]}),u=f(()=>Object.values(s.errors)),y=f(()=>s.images.length),k=()=>{s.post(route("realtor.listing.image.store",{listing:g.listing.id}),{onSuccess:()=>s.reset("images")})},x=r=>{for(const m of r.target.files)s.images.push(m)},v=()=>s.reset("images");return(r,m)=>(e(),i(d,null,[p(_,null,{header:a(()=>[V]),default:a(()=>[t("form",{onSubmit:L(k,["prevent"])},[t("section",U,[t("input",{class:"border rounded-md file:px-4 file:py-2 border-gray-200 dark:border-gray-700 file:text-gray-700 file:dark:text-gray-400 file:border-0 file:bg-gray-100 file:dark:bg-gray-800 file:font-medium file:hover:bg-gray-200 file:dark:hover:bg-gray-700 file:hover:cursor-pointer file:mr-4",type:"file",multiple:"",onInput:x},null,32),t("button",{type:"submit",class:"btn-outline disabled:opacity-25 disabled:cursor-not-allowed",disabled:!l(y)}," Upload ",8,D),t("button",{type:"reset",class:"btn-outline",onClick:v}," Reset ")]),l(u).length?(e(),i("div",E,[(e(!0),i(d,null,h(l(u),(o,N)=>(e(),i("div",{key:N},I(o),1))),128))])):b("",!0)],40,j)]),_:1}),n.listing.images.length?(e(),F(_,{key:0,class:"mt-4"},{header:a(()=>[O]),default:a(()=>[t("section",z,[(e(!0),i(d,null,h(n.listing.images,o=>(e(),i("div",{key:o.id,class:"flex flex-col justify-between"},[t("img",{src:o.src,class:"rounded-md"},null,8,M),p(l(S),{href:r.route("realtor.listing.image.destroy",{listing:g.listing.id,image:o.id}),method:"delete",as:"button",class:"mt-2 btn-outline text-xs"},{default:a(()=>[P]),_:2},1032,["href"])]))),128))])]),_:1})):b("",!0)],64))}};export{A as default};
